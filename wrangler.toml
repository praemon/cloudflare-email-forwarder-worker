name = "cloudflare-email-forwarder-worker"
main = "src/index.ts"
compatibility_date = "2026-02-24"
compatibility_flags = ["nodejs_compat"]
workers_dev = false
keep_vars = true

# ──────────────────────────────────────────────────────────────────────────────
# KV Namespace — set in the Cloudflare dashboard (not here, so it is never
# overwritten by a wrangler deploy):
#   Workers & Pages → your worker → Settings → KV Namespace Bindings
#   Variable name : ALLOWED_ALIASES
#   KV namespace  : (select your namespace)
#
# Must be the SAME namespace that the simplelogin-api worker writes to.
# ──────────────────────────────────────────────────────────────────────────────

[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = false
head_sampling_rate = 1
persist = true

# ──────────────────────────────────────────────────────────────────────────────
# FORWARD_TO — set in the Cloudflare dashboard:
#   Workers & Pages → your worker → Settings → Variables and Secrets
#   Name: FORWARD_TO  |  Value: you@example.com
# ──────────────────────────────────────────────────────────────────────────────
